<div class="flex flex-col h-full max-h-screen">
  <div class="px-4 py-3 border-b border-gray-200 h-16 flex items-center">
    <div class="flex items-center gap-2">
      <div class="w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center">
        <div class="w-4 h-4 bg-white rounded-full"></div>
      </div>
      <span class="text-xl font-semibold text-gray-900"><%= t('site_name') %></span>
    </div>
  </div>
  <nav class="flex-1 overflow-y-auto px-2.5 py-6 space-y-6 max-h-full" aria-label="Sidebar">
    <!-- Dashboard -->
    <ul class="space-y-0.5">
      <%= admin_v2_sidebar_item t('.dashboard'), admin_root_path, icon: 'dashboard' %>
    </ul>

    <% unless tenant_site? %>
      <!-- Sites -->
      <div>
        <%= admin_v2_sidebar_section t('.sites') %>
        <ul class="space-y-0.5">
          <%= admin_v2_sidebar_item t('.list'), admin_sites_path, icon: 'sitemap' %>
          <%= admin_v2_sidebar_item t('.new'), new_admin_site_path, icon: 'plus' %>
        </ul>
      </div>
    <% end %>

    <!-- General -->
    <div>
      <%= admin_v2_sidebar_section t('.general') %>
      <!-- News -->
      <%= admin_v2_sidebar_group t('.news') do %>
        <%= admin_v2_sidebar_item t('.list'), admin_news_index_path, icon: 'newspaper-o' %>
        <%= admin_v2_sidebar_item t('.new'), new_admin_news_path, icon: 'plus' %>
      <% end %>
      <!-- Slider -->
      <%= admin_v2_sidebar_group t('.slider') do %>
        <%= admin_v2_sidebar_item t('.list'), admin_sliders_path, icon: 'picture-o' %>
        <%= admin_v2_sidebar_item t('.new'), new_admin_slider_path, icon: 'plus' %>
      <% end %>
      <!-- Blocks -->
      <%= admin_v2_sidebar_group t('.blocks') do %>
        <%= admin_v2_sidebar_item t('.list'), admin_blocks_path, icon: 'cube' %>
        <%= admin_v2_sidebar_item t('.new'), new_admin_block_path, icon: 'plus' %>
      <% end %>
    </div>

    <% if tenant_site? %>
      <!-- Tenant Features -->
      <div>
        <%= admin_v2_sidebar_section t('.tenant_features') %>
        <!-- Menus -->
        <%= admin_v2_sidebar_group t('.menus') do %>
          <%= admin_v2_sidebar_item t('.list'), admin_menu_items_path, icon: 'bars' %>
          <%= admin_v2_sidebar_item t('.new'), new_admin_menu_item_path, icon: 'plus' %>
        <% end %>
        <!-- Plans -->
        <%= admin_v2_sidebar_group t('.plans') do %>
          <%= admin_v2_sidebar_item t('.list'), admin_plans_path, icon: 'cube' %>
          <%= admin_v2_sidebar_item t('.new'), new_admin_plan_path, icon: 'plus' %>
        <% end %>
        <!-- Partners -->
        <%= admin_v2_sidebar_group t('.partner') do %>
          <%= admin_v2_sidebar_item t('.list'), admin_partners_path, icon: 'handshake-o' %>
          <%= admin_v2_sidebar_item t('.new'), new_admin_partner_path, icon: 'plus' %>
          <%= admin_v2_sidebar_item t('.types'), admin_partner_types_path, icon: 'folder-o' %>
          <%= admin_v2_sidebar_item t('.new_type'), new_admin_partner_type_path, icon: 'plus' %>
        <% end %>
        <!-- Sponsors -->
        <%= admin_v2_sidebar_group t('.sponsor') do %>
          <%= admin_v2_sidebar_item t('.list'), admin_sponsors_path, icon: 'money' %>
          <%= admin_v2_sidebar_item t('.new'), new_admin_sponsor_path, icon: 'plus' %>
          <%= admin_v2_sidebar_item t('.levels'), admin_sponsor_levels_path, icon: 'diamond' %>
          <%= admin_v2_sidebar_item t('.new_level'), new_admin_sponsor_level_path, icon: 'plus' %>
        <% end %>
        <!-- Speakers -->
        <%= admin_v2_sidebar_group t('.speaker') do %>
          <%= admin_v2_sidebar_item t('.list'), admin_speakers_path, icon: 'users' %>
          <%= admin_v2_sidebar_item t('.new'), new_admin_speaker_path, icon: 'plus' %>
        <% end %>
        <!-- Agenda -->
        <%= admin_v2_sidebar_group t('.agenda') do %>
          <%= admin_v2_sidebar_item t('.list'), admin_agendas_path, icon: 'file-text' %>
          <%= admin_v2_sidebar_item t('.new'), new_admin_agenda_path, icon: 'plus' %>
          <%= admin_v2_sidebar_item t('.rooms'), admin_rooms_path, icon: 'columns' %>
          <%= admin_v2_sidebar_item t('.new_room'), new_admin_room_path, icon: 'plus' %>
          <%= admin_v2_sidebar_item t('.days'), admin_agenda_days_path, icon: 'calendar' %>
          <%= admin_v2_sidebar_item t('.new_day'), new_admin_agenda_day_path, icon: 'plus' %>
          <%= admin_v2_sidebar_item t('.times'), admin_agenda_times_path, icon: 'clock-o' %>
          <%= admin_v2_sidebar_item t('.new_time'), new_admin_agenda_time_path, icon: 'plus' %>
          <%= admin_v2_sidebar_item t('.tags'), admin_agenda_tags_path, icon: 'tags' %>
          <%= admin_v2_sidebar_item t('.new_tag'), new_admin_agenda_tag_path, icon: 'plus' %>
        <% end %>
        <!-- Indie Space -->
        <%= admin_v2_sidebar_group t('.indie_space') do %>
          <%= admin_v2_sidebar_item t('.list'), admin_indie_space_games_path, icon: 'list' %>
          <%= admin_v2_sidebar_item t('.new'), new_admin_indie_space_game_path, icon: 'plus' %>
          <%= admin_v2_sidebar_item t('.options'), edit_admin_indie_space_path, icon: 'gear' %>
        <% end %>

        <!-- Night Market -->
        <%= admin_v2_sidebar_group t('.night_market') do %>
          <%= admin_v2_sidebar_item t('.list'), admin_night_market_games_path, icon: 'list' %>
          <%= admin_v2_sidebar_item t('.new'), new_admin_night_market_game_path, icon: 'plus' %>
        <% end %>
        <!-- Options -->
        <ul class="space-y-0.5">
          <%= admin_v2_sidebar_item t('.options'), edit_admin_options_path, icon: 'gear' %>
        </ul>
      </div>
    <% end %>
  </nav>
  <div class="px-4 py-2 border-t border-gray-200">
    <%= link_to admin_feature_toggle_path(feature: 'admin_v2'), method: :patch, data: { turbo_method: :patch },
                class: "flex items-center gap-2.5 px-2.5 py-1.5 text-sm font-medium rounded-md transition-colors duration-150 ease-in-out \
                         #{admin_v2_enabled? ? 'bg-blue-600 text-white' : 'text-gray-600 hover:text-gray-900 hover:bg-gray-50'}" do %>
      <i class="fa <%= admin_v2_enabled? ? 'fa-toggle-on' : 'fa-toggle-off' %> w-4 h-4 flex-shrink-0 <%= admin_v2_enabled? ? 'text-white' : 'text-gray-600' %>"></i>
      <span class="text-sm font-medium"><%= admin_v2_enabled? ? 'Disable Admin V2' : 'Enable Admin V2' %></span>
    <% end %>
  </div>
  <div class="px-4 py-4 border-t border-gray-200">
    <span class="text-xs text-gray-500">Version <%= ENV['REVISION'] || 'dev' %></span>
  </div>
</div>
